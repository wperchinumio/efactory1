@tailwind base;
@tailwind components;
@tailwind utilities;

/* Navigation loading animations */
@keyframes shimmer {
  0% {
    transform: translateX(-100%);
  }
  100% {
    transform: translateX(100%);
  }
}

@keyframes progress-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

.navigation-progress-shimmer {
  animation: shimmer 1.2s ease-in-out infinite;
}

.navigation-progress-pulse {
  animation: progress-pulse 1s ease-in-out infinite;
}

:root {
  --font-family: Mulish;

  --shadow-sm: 0 .1rem .4rem rgba(25, 24, 24, .1);
  --shadow-normal: 0 0 10px rgba(25, 24, 24, .15);
  --shadow-lg: 0 0.5rem 1rem rgba(25, 26, 28, 0.15);

  --theme-indigo: #4C3575;
  --theme-blue: #1363DF;
  --theme-cyan: #219F94;
  --theme-green: #8CBA51;
  --theme-green-dark: #6B9A3F;
  --theme-green-light: #A8D16A;
  --theme-green-soft: rgba(139, 202, 81, 0.15);
  --theme-green-soft-light: rgba(168, 209, 106, 0.12);
  --theme-orange: #e8730d;
  --theme-blush: #dd5e89;
  --theme-red: #f73859;

  --white: #fff;
  --white-10: #ffffff1a;
  --black: #000;
  --black-50: rgba(0, 0, 0, 0.5);
  --dark: #2d3238;
  --grey: #6c757d;
  --success: #198754;
  --success-50: #d1e7dd;
  --warning: #f1df3c;
  --info: #38818d;
  --danger: #dc3545;
  --danger-50: #fc5a6926;
  --sky: #86b7fe;
  --blue: #0d6efd;

  --primary: #191a1c;
  --primary-10: #191a1c1a;
  --secondary: #837788;
  /* DCL brand defaults */
  --brand-primary: #2FA4D7; /* DCL blue */
  --brand-secondary: #0B5E8E;
  /* Default Chart Colors - Work well in both light and dark modes */
  --chart-color1: #7C3AED;  /* Purple - Primary brand color */
  --chart-color2: #DC2626;  /* Red */
  --chart-color3: #059669;  /* Green */
  --chart-color4: #D97706;  /* Orange */
  --chart-color5: #2563EB;  /* Blue */
  --chart-color6: #DB2777;  /* Pink */
  --chart-color7: #0891B2;  /* Cyan */
  --chart-color8: #65A30D;  /* Lime */
  --chart-color9: #EA580C;  /* Orange Red */
  --chart-color10: #7C2D12; /* Brown */
}
.brand-dcl {
  --secondary: var(--brand-primary);
}


[data-theme="light"] {
  --body-color: #f4f7f6;
  --font-color: #363535;
  --font-color-100: #9399a1;
  --font-color-200: #EEEEEE;
  --font-color-400: #BDBDBD;
  --card-color: #ffffff;
  --border-color: #e7e7e7;
  --scrollbar-thumb: #b9b9b9;
}

[data-theme="dark"] {
  --body-color: #2d3238;
  --font-color: #E0E0E0;
  --font-color-100: #9399a1;
  --font-color-200: #424242;
  --font-color-400: #BDBDBD;
  --card-color: #24282e;
  --border-color: #4c4c4c;
  --scrollbar-thumb: #696969;
}

html[data-luno-theme="indigo"],
body[data-luno-theme="indigo"] {
  --primary: #4C3575 !important;
  --primary-10: #cec8d71a !important;
  --secondary: #e05170 !important;
  --chart-color1: #b9b3a8 !important;
  --chart-color2: #4C3575 !important;
  --chart-color3: #98427e !important;
  --chart-color4: #d55a75 !important;
  --chart-color5: #fb8665 !important;
}

[data-theme="dark"] html[data-luno-theme="indigo"],
[data-theme="dark"] body[data-luno-theme="indigo"] {
  --primary: #996EEA !important;
  /*--primary-10: #cec8d71a !important;
  --secondary: #e05170 !important;
  --chart-color1: #b9b3a8 !important;
  --chart-color2: #4C3575 !important;
  --chart-color3: #98427e !important;
  --chart-color4: #d55a75 !important;
  --chart-color5: #fb8665 !important;*/
}

html[data-luno-theme="blue"],
body[data-luno-theme="blue"] {
  --primary: #4595D2 !important;
  --primary-10: #cec8d71a !important;
  --secondary: #00AC9A !important;
  --chart-color1: #2794eb !important;
  --chart-color2: #6382D8 !important;
  --chart-color3: #8D61A5 !important;
  --chart-color4: #90476F !important;
  --chart-color5: #00AC9A !important;
}

html[data-luno-theme="cyan"],
body[data-luno-theme="cyan"] {
  --primary: #219F94 !important;
  --primary-10: #219F941a !important;
  --secondary: #8269ff !important;
  --chart-color1: #219F94 !important;
  --chart-color2: #655D8A !important;
  --chart-color3: #C1DEAE !important;
  --chart-color4: #FDCEB9 !important;
  --chart-color5: #D885A3 !important;
}

html[data-luno-theme="green"],
body[data-luno-theme="green"] {
  --primary: #8CBA51 !important;
  --primary-10: #8CBA511a !important;
  --secondary: #5ea425 !important;
  --chart-color1: #79B989 !important;
  --chart-color2: #7E8954 !important;
  --chart-color3: #91A7FB !important;
  --chart-color4: #3FBCB8 !important;
  --chart-color5: #ecbc7c !important;
}

html[data-luno-theme="orange"],
body[data-luno-theme="orange"] {
  --primary: #e8730d !important;
  --primary-10: #FF92341a !important;
  --secondary: #ba7c24 !important;
  --chart-color1: #d47828 !important;
  --chart-color2: #FF8982 !important;
  --chart-color3: #FFC0B7 !important;
  --chart-color4: #CF7F00 !important;
  --chart-color5: #00B4B7 !important;
}

html[data-luno-theme="blush"],
body[data-luno-theme="blush"] {
  --primary: #dd5e89 !important;
  --primary-10: #dd5e891a !important;
  --secondary: #bb7d56 !important;
  --chart-color1: #dd5e89 !important;
  --chart-color2: #b45d98 !important;
  --chart-color3: #865e99 !important;
  --chart-color4: #5b5b8b !important;
  --chart-color5: #f7bb97 !important;
}

html[data-luno-theme="red"],
body[data-luno-theme="red"] {
  --primary: #f73859 !important;
  --primary-10: #f738591a !important;
  --secondary: #985fe2 !important;
  --chart-color1: #FF7171 !important;
  --chart-color2: #FFAA71 !important;
  --chart-color3: #6E6D6D !important;
  --chart-color4: #D9C6A5 !important;
  --chart-color5: #99B898 !important;
}

html[data-luno-theme="dynamic"],
body[data-luno-theme="dynamic"] {
  --primary: var(--primary) !important;
  --primary-10: var(--primary-10) !important;
  --secondary: var(--secondary) !important;
  --chart-color1: #7C3AED !important;  /* Purple - Primary brand color */
  --chart-color2: #DC2626 !important;  /* Red */
  --chart-color3: #059669 !important;  /* Green */
  --chart-color4: #D97706 !important;  /* Orange */
  --chart-color5: #2563EB !important;  /* Blue */
}

@layer utilities {
  .custom-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .custom-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

/* AG Grid: avoid smooth scrolling which desynchronizes header/body sync */
.ag-body-viewport,
.ag-center-cols-viewport,
.ag-body-horizontal-scroll-viewport {
  scroll-behavior: auto !important;
}

/* 
 * Responsive Grid Container - Reusable across all pages
 * 
 * Usage:
 * - grid-container: Auto height mobile (min 300px), calc(100vh - 120px) desktop
 * - grid-container-compact: Auto height mobile (min 250px), calc(100vh - 180px) desktop
 * - grid-container-large: Auto height mobile (min 400px), calc(100vh - 120px) desktop
 * 
 * Features:
 * - Automatically adjusts height based on viewport size
 * - Mobile-friendly with auto height to show all rows
 * - Desktop-optimized with viewport-based calculations
 * - Includes space for pagination controls
 * - Maximum height constraint on mobile (80vh) to prevent overflow
 */
.grid-container {
  /* Default layout */
  display: flex;
  flex-direction: column;
  /* Guard: ensure pagination is reachable even when space is tight */
  min-height: 520px;
}

/* For desktop screens with height > 400px */
@media (min-height: 401px) and (min-width: 768px) {
  .grid-container {
    /* Fixed container height so middle section flexes with variable filter heights */
    height: calc(100svh - 213px);
    min-height: calc(100svh - 213px);
    display: flex;
    flex-direction: column;
  }
}

/* For very large screens, ensure minimum usable height */
@media (min-height: 800px) and (min-width: 1024px) {
  .grid-container {
    height: calc(100svh - 213px);
    min-height: calc(100svh - 213px);
  }
}

/* Utility classes for different page layouts */
.grid-container-compact {
  display: flex;
  flex-direction: column;
}

@media (min-height: 401px) and (min-width: 768px) {
  .grid-container-compact {
    height: calc(100svh - 220px);
    min-height: calc(100svh - 220px);
  }
}

.grid-container-large {
  display: flex;
  flex-direction: column;
}

@media (min-height: 401px) and (min-width: 768px) {
  .grid-container-large {
    height: calc(100svh - 200px);
    min-height: calc(100svh - 200px);
  }
}

/* Mobile-specific adjustments */
@media (max-width: 767px) {
  .grid-container,
  .grid-container-compact,
  .grid-container-large {
    /* Mobile: use full viewport height */
    height: 100svh;
    min-height: 100svh;
    display: flex;
    flex-direction: column;
  }
  
  /* Ensure grid content takes available space */
  .grid-container .flex-1,
  .grid-container-compact .flex-1,
  .grid-container-large .flex-1 {
    flex: 1;
    min-height: 0; /* allow the scrollable grid body to shrink/grow reliably */
  }
}

/* Always allow the middle section to shrink regardless of breakpoint */
.grid-container .flex-1,
.grid-container-compact .flex-1,
.grid-container-large .flex-1 {
  min-height: 0;
}

/* AG Grid Theme-Aware Styling */
.ag-theme-quartz {
  --ag-font-family: 'Mulish', sans-serif;
  --ag-font-size: 14px;
  --ag-font-weight: 400;
  --ag-header-font-weight: 600;
  --ag-header-font-size: 14px;
  --ag-cell-horizontal-padding: 12px;
  --ag-cell-vertical-padding: 8px;
  --ag-header-height: 44px;
  --ag-row-height: 48px;
  --ag-border-radius: 6px;
  --ag-header-column-separator-display: block;
  --ag-header-column-separator-height: 60%;
  --ag-header-column-resize-handle-width: 2px;
  --ag-header-column-resize-handle-height: 60%;
  --ag-header-column-resize-handle-display: block;
  --ag-scrollbar-width: 8px;
  --ag-scrollbar-height: 8px;
}

/* Dark theme variant - using same base class but with dark overrides */
.ag-theme-quartz-dark {
  --ag-font-family: 'Mulish', sans-serif;
  --ag-font-size: 14px;
  --ag-font-weight: 400;
  --ag-header-font-weight: 600;
  --ag-header-font-size: 14px;
  --ag-cell-horizontal-padding: 12px;
  --ag-cell-vertical-padding: 8px;
  --ag-header-height: 44px;
  --ag-row-height: 48px;
  --ag-border-radius: 6px;
  --ag-header-column-separator-display: block;
  --ag-header-column-separator-height: 60%;
  --ag-header-column-resize-handle-width: 2px;
  --ag-header-column-resize-handle-height: 60%;
  --ag-header-column-resize-handle-display: block;
  --ag-scrollbar-width: 8px;
  --ag-scrollbar-height: 8px;
}

/* Light theme overrides */
[data-theme="light"] .ag-theme-quartz {
  --ag-background-color: #ffffff;
  --ag-foreground-color: #363535;
  --ag-header-background-color: #f8f9fa;
  --ag-header-foreground-color: #363535;
  --ag-border-color: #e7e7e7;
  --ag-row-hover-color: #f8f9fa;
  --ag-selected-row-background-color: #e3f2fd;
  --ag-odd-row-background-color: #ffffff;
  --ag-even-row-background-color: #ffffff;
  --ag-cell-horizontal-border: #e7e7e7;
  --ag-header-cell-hover-background-color: #e9ecef;
  --ag-header-cell-moving-background-color: #e9ecef;
  --ag-range-selection-background-color: rgba(0, 123, 255, 0.1);
  --ag-range-selection-border-color: #007bff;
  --ag-input-border-color: #e7e7e7;
  --ag-input-background-color: #ffffff;
  --ag-input-foreground-color: #363535;
  --ag-disabled-foreground-color: #6c757d;
  --ag-chip-background-color: #f8f9fa;
  --ag-chip-foreground-color: #363535;
  --ag-popup-background-color: #ffffff;
  --ag-popup-border-color: #e7e7e7;
  --ag-tooltip-background-color: #ffffff;
  --ag-tooltip-foreground-color: #363535;
  --ag-tooltip-border-color: #e7e7e7;
  --ag-checkbox-background-color: #ffffff;
  --ag-checkbox-border-color: #e7e7e7;
  --ag-checkbox-checked-color: #007bff;
  --ag-header-column-separator-color: #e7e7e7;
  --ag-header-column-resize-handle-color: #e7e7e7;
  --ag-scrollbar-thumb-color: #b9b9b9;
  --ag-scrollbar-track-color: #f8f9fa;
}

/* Dark theme overrides */
[data-theme="dark"] .ag-theme-quartz-dark {
  --ag-background-color: #24282e;
  --ag-foreground-color: #E0E0E0;
  --ag-header-background-color: #2d3238;
  --ag-header-foreground-color: #E0E0E0;
  --ag-border-color: #4c4c4c;
  --ag-row-hover-color: #2d3238;
  --ag-selected-row-background-color: #1a1d23;
  --ag-odd-row-background-color: #1e2127;
  --ag-even-row-background-color: #24282e;
  --ag-cell-horizontal-border: #4c4c4c;
  --ag-header-cell-hover-background-color: #3a3f45;
  --ag-header-cell-moving-background-color: #3a3f45;
  --ag-range-selection-background-color: rgba(0, 123, 255, 0.2);
  --ag-range-selection-border-color: #007bff;
  --ag-input-border-color: #4c4c4c;
  --ag-input-background-color: #24282e;
  --ag-input-foreground-color: #E0E0E0;
  --ag-disabled-foreground-color: #9399a1;
  --ag-chip-background-color: #2d3238;
  --ag-chip-foreground-color: #E0E0E0;
  --ag-popup-background-color: #24282e;
  --ag-popup-border-color: #4c4c4c;
  --ag-tooltip-background-color: #24282e;
  --ag-tooltip-foreground-color: #E0E0E0;
  --ag-tooltip-border-color: #4c4c4c;
  --ag-checkbox-background-color: #24282e;
  --ag-checkbox-border-color: #4c4c4c;
  --ag-checkbox-checked-color: #007bff;
  --ag-header-column-separator-color: #4c4c4c;
  --ag-header-column-resize-handle-color: #4c4c4c;
  --ag-scrollbar-thumb-color: #696969;
  --ag-scrollbar-track-color: #2d3238;
}

/* Also apply dark theme to regular quartz theme when in dark mode */
[data-theme="dark"] .ag-theme-quartz {
  --ag-background-color: #24282e;
  --ag-foreground-color: #E0E0E0;
  --ag-header-background-color: #2d3238;
  --ag-header-foreground-color: #E0E0E0;
  --ag-border-color: #4c4c4c;
  --ag-row-hover-color: #2d3238;
  --ag-selected-row-background-color: #1a1d23;
  --ag-odd-row-background-color: #1e2127;
  --ag-even-row-background-color: #24282e;
  --ag-cell-horizontal-border: #4c4c4c;
  --ag-header-cell-hover-background-color: #3a3f45;
  --ag-header-cell-moving-background-color: #3a3f45;
  --ag-range-selection-background-color: rgba(0, 123, 255, 0.2);
  --ag-range-selection-border-color: #007bff;
  --ag-input-border-color: #4c4c4c;
  --ag-input-background-color: #24282e;
  --ag-input-foreground-color: #E0E0E0;
  --ag-disabled-foreground-color: #9399a1;
  --ag-chip-background-color: #2d3238;
  --ag-chip-foreground-color: #E0E0E0;
  --ag-popup-background-color: #24282e;
  --ag-popup-border-color: #4c4c4c;
  --ag-tooltip-background-color: #24282e;
  --ag-tooltip-foreground-color: #E0E0E0;
  --ag-tooltip-border-color: #4c4c4c;
  --ag-checkbox-background-color: #24282e;
  --ag-checkbox-border-color: #4c4c4c;
  --ag-checkbox-checked-color: #007bff;
  --ag-header-column-separator-color: #4c4c4c;
  --ag-header-column-resize-handle-color: #4c4c4c;
  --ag-scrollbar-thumb-color: #696969;
  --ag-scrollbar-track-color: #2d3238;
}

/* Custom AG Grid cell styling */
.ag-theme-quartz .ag-cell,
.ag-theme-quartz-dark .ag-cell {
  display: flex;
  align-items: center;
  line-height: 1.4;
}

.ag-theme-quartz .ag-header-cell,
.ag-theme-quartz-dark .ag-header-cell {
  display: flex;
  align-items: center;
  font-weight: 600;
}

/* Custom scrollbar styling for AG Grid */
.ag-theme-quartz .ag-body-viewport::-webkit-scrollbar,
.ag-theme-quartz-dark .ag-body-viewport::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.ag-theme-quartz .ag-body-viewport::-webkit-scrollbar-track,
.ag-theme-quartz-dark .ag-body-viewport::-webkit-scrollbar-track {
  background: var(--ag-scrollbar-track-color);
}

.ag-theme-quartz .ag-body-viewport::-webkit-scrollbar-thumb,
.ag-theme-quartz-dark .ag-body-viewport::-webkit-scrollbar-thumb {
  background: var(--ag-scrollbar-thumb-color);
  border-radius: 4px;
}

.ag-theme-quartz .ag-body-viewport::-webkit-scrollbar-thumb:hover,
.ag-theme-quartz-dark .ag-body-viewport::-webkit-scrollbar-thumb:hover {
  background: var(--ag-foreground-color);
}

/* Pagination styling */
.ag-theme-quartz .ag-paging-panel,
.ag-theme-quartz-dark .ag-paging-panel {
  background: var(--ag-header-background-color);
  border-top: 1px solid var(--ag-border-color);
  color: var(--ag-foreground-color);
}

.ag-theme-quartz .ag-paging-button,
.ag-theme-quartz-dark .ag-paging-button {
  color: var(--ag-foreground-color);
  background: transparent;
  border: 1px solid var(--ag-border-color);
}

.ag-theme-quartz .ag-paging-button:hover,
.ag-theme-quartz-dark .ag-paging-button:hover {
  background: var(--ag-row-hover-color);
}

.ag-theme-quartz .ag-paging-button[disabled],
.ag-theme-quartz-dark .ag-paging-button[disabled] {
  color: var(--ag-disabled-foreground-color);
  background: transparent;
}

/* Row selection styling */
.ag-theme-quartz .ag-row-selected,
.ag-theme-quartz-dark .ag-row-selected {
  background: var(--ag-selected-row-background-color) !important;
}

.ag-theme-quartz .ag-row:hover,
.ag-theme-quartz-dark .ag-row:hover {
  background: var(--ag-row-hover-color) !important;
}

.custom-scrollbar {
  scrollbar-color: var(--card-color) var(--card-color);
  scrollbar-width: thin;
}

.custom-scrollbar:hover {
  scrollbar-color: var(--secondary) var(--card-color);
}

.container-fluid {
  width: 100%;
  max-width: 100%;
  padding-left: 12px;
  padding-right: 12px;
}

img {
  max-width: 100%;
  height: auto;
}

input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.form-select {
  background-size: 18px;
  background-repeat: no-repeat;
}

[dir="ltr"] .form-select {
  background-position: calc(100% - 10px) center;
}

[dir="rtl"] .form-select {
  background-position: 10px center;
}

[data-theme="light"] .form-select {
  background-image: url('../public/images/chevron_down_dark.svg');
}

[data-theme="dark"] .form-select {
  background-image: url('../public/images/chevron_down_light.svg');
}

.dynamic-color-setting {
  display: none;
}

html[data-luno-theme="dynamic"] .dynamic-color-setting,
body[data-luno-theme="dynamic"] .dynamic-color-setting {
  display: block;
}

body {
  font-size: 16px;
  line-height: 24px;
  color: var(--font-color);
  font-family: var(--font-family), sans-serif;
  font-weight: normal;
}

body.radius-0 *,
body.radius-0 *:before,
body.radius-0 *:after {
  border-radius: 0 !important;
}

body:is(.app-email, .app-email-detail, .app-email-compose, .app-chat, .app-social, .app-file-manager, .app-task, .app-project-list, .app-project-details) .main {
  padding: 0 !important;
  overflow: hidden;
}

body:is(.app-email, .app-email-detail, .app-email-compose, .app-chat, .app-social, .app-file-manager, .app-task, .app-project-list, .app-project-details) .footer {
  display: none;
}

.small,
small {
  font-size: 14px;
  line-height: 20px;
}

.chrome-picker {
  font-family: inherit !important;
}

.btn {
  font-size: 14px;
  line-height: 20px;
  padding: 6px 12px;
  border-radius: 6px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  transition: box-shadow .25s ease, transform .25s ease;
}

.btn.large {
  padding: 10px 15px;
}

.btn:hover {
  box-shadow: 0 6px 1rem rgba(25, 24, 24, .1), 0 .5rem 1rem -.75rem rgba(25, 24, 24, .1);
  transform: translate3d(0, -3px, 0);
}

.btn.btn-primary {
  background-color: var(--primary);
  border: 1px solid var(--primary);
  color: var(--white);
}

.btn.btn-secondary {
  background-color: var(--grey);
  border: 1px solid var(--grey);
  color: var(--white);
}

.btn.btn-danger {
  background-color: var(--danger);
  border: 1px solid var(--danger);
  color: var(--white);
}

.btn.btn-success {
  background-color: var(--success);
  border: 1px solid var(--success);
  color: var(--white);
}

.btn.btn-white {
  background-color: var(--white);
  border: 1px solid var(--white);
  color: var(--grey);
}

.btn.btn-black {
  background-color: var(--dark);
  border: 1px solid var(--dark);
  color: var(--white);
}

.btn.btn-info {
  background-color: var(--info);
  border: 1px solid var(--info);
  color: var(--white);
}

.btn.btn-outline-primary {
  border: 1px solid var(--primary);
  color: var(--primary);
}

.btn.btn-outline-primary:hover {
  background-color: var(--primary);
  color: var(--white);
}

.btn.btn-outline-secondary {
  border: 1px solid var(--grey);
  color: var(--grey);
}

.btn.btn-outline-secondary:hover {
  background-color: var(--grey);
  color: var(--white);
}

.btn.btn-light-primary {
  background-color: var(--primary-10);
  border: 1px solid var(--primary-10);
  color: var(--primary);
}

.btn.btn-light-primary:hover {
  background-color: var(--primary);
  border: 1px solid var(--primary);
  color: var(--white);
}

.btn.btn-light-danger {
  background-color: var(--danger-50);
  border: 1px solid var(--danger-50);
  color: var(--danger);
}

.btn.btn-light-danger:hover {
  background-color: var(--danger);
  border: 1px solid var(--danger);
  color: var(--white);
}

body .ql-snow {
  border-color: var(--border-color);
}

body .ql-toolbar.ql-snow {
  border-radius: 6px 6px 0 0;
}

body .ql-container.ql-snow {
  border-radius: 0 0 6px 6px;
}

body .ql-editor {
  min-height: 200px;
  max-height: 400px;
  font-family: var(--font-family);
  font-size: 16px;
  line-height: 24px;
  text-align: start;
}

body .ql-editor.ql-blank::before {
  font-style: normal;
  color: var(--font-color-100);
}

.swiper-pagination-bullet-active {
  background-color: var(--primary);
}

/* react data table css */
body .rdt_Table,
body .rdt_TableHeadRow,
body .rdt_TableRow,
body .rdt_ExpanderRow {
  background-color: var(--card-color);
  color: var(--font-color);
  border-color: var(--border-color);
  font-size: 14px;
  line-height: 20px;
}

body .rdt_TableHeadRow {
  font-weight: 600;
}

body .rdt_TableRow:not(:last-of-type) {
  border-color: var(--border-color);
}

body .rdt_Pagination {
  background-color: transparent;
  color: var(--font-color);
  border-color: var(--border-color);
}

body .rdt_Pagination button,
body .rdt_TableRow button {
  color: var(--font-color);
  fill: var(--font-color);
}

body .rdt_Pagination button:disabled {
  color: var(--font-color-100);
  fill: var(--font-color-100);
}

.react-data-table header {
  background-color: transparent;
  padding: 0;
}

body .rdt_TableHeader {
  background-color: transparent;
  margin-bottom: 10px;
  min-height: unset;
  font-size: inherit;
  padding: 0;
}

body .rdt_TableCell,
body .rdt_TableCol {
  padding: 16px;
}

body .rdt_Pagination select {
  background-color: var(--dark);
  border: 1px solid var(--border-color);
}

body .rdt_Pagination select option {
  color: var(--font-color);
}

body .rdt_Pagination select:focus-visible {
  outline: none;
}

body .react-data-table.striped .rdt_TableHeadRow {
  border-bottom: 0;
}

body .react-data-table.striped .rdt_TableRow {
  border-bottom: 0;
  border-top: 1px dashed var(--border-color);
}

body .react-data-table.striped .rdt_TableCell:not(:last-of-type),
body .react-data-table.striped .rdt_TableCol:not(:last-of-type) {
  border-inline-end: 1px dashed var(--border-color);
}

/* react data table css */

/* form css start */
.form-control .form-label {
  font-size: 14px;
  line-height: 20px;
  color: var(--font-color-100);
  display: inline-block;
  margin-bottom: 5px;
}

.form-control .form-input,
.form-control .form-textarea {
  padding: 10px 12px;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  background-color: var(--card-color);
  width: 100%;
}

.form-control .form-input::placeholder,
.form-control .form-textarea::placeholder {
  opacity: 0.5;
}

.form-control .form-input:focus,
.form-control .form-textarea:focus {
  outline: none;
  border: 1px solid var(--primary);
  color: var(--primary);
  box-shadow: var(--shadow-normal);
}

.form-control .form-input:disabled,
.form-control .form-textarea:disabled {
  cursor: not-allowed;
  background-color: var(--border-color);
}

.form-control .form-input[type="file"]::-webkit-file-upload-button {
  background: var(--body-color);
  border: 0;
  padding: 6px 12px;
  margin-right: 12px;
  border-right: 1px solid var(--border-color);
}

.print-invoice textarea {
  border: 1px solid transparent;
  border-radius: 0.25rem;
}

.print-invoice textarea:hover {
  border: 1px solid var(--primary);
}

.print-invoice textarea:focus,
.print-invoice textarea:focus-visible {
  outline: none;
  background-color: var(--primary-10);
  border: 1px solid var(--primary);
}

/* form css end */

/* form floating css start */
.floating-form-control {
  position: relative;
  display: flex;
}

.floating-form-control .form-label {
  position: absolute;
  top: 1px;
  left: 1px;
  z-index: 1;
  padding: 16px 12px;
  pointer-events: none;
  transform-origin: 0 0;
  transition: opacity .1s ease-in-out, transform .1s ease-in-out;
}

[dir="rtl"] .floating-form-control .form-label {
  left: auto;
  right: 1px;
}

.floating-form-control .form-input,
.floating-form-control .form-select,
.floating-form-control .form-textarea {
  padding: 24px 12px 8px;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  background-color: var(--card-color);
  width: 100%;
}

.floating-form-control .form-input::placeholder,
.floating-form-control .form-textarea::placeholder {
  color: transparent;
}

.floating-form-control .form-input:focus,
.floating-form-control .form-select:focus,
.floating-form-control .form-textarea:focus {
  outline: none;
  border: 1px solid var(--primary);
  color: var(--primary);
  box-shadow: var(--shadow-normal);
}

.floating-form-control .form-input:focus~label,
.floating-form-control .form-input:not(:placeholder-shown)~label,
.floating-form-control .form-select~label,
.floating-form-control .form-textarea:focus~label,
.floating-form-control .form-textarea:not(:placeholder-shown)~label {
  color: var(--font-color-100);
  transform: scale(.85) translateY(-.5rem) translateX(.15rem);
}

[dir="rtl"] .floating-form-control .form-input:focus~label,
[dir="rtl"] .floating-form-control .form-input:not(:placeholder-shown)~label,
[dir="rtl"] .floating-form-control .form-select~label,
[dir="rtl"] .floating-form-control .form-textarea:focus~label,
[dir="rtl"] .floating-form-control .form-textarea:not(:placeholder-shown)~label {
  transform: scale(.85) translateY(-.5rem) translateX(.75rem);
}

.floating-form-control .form-textarea:not(:placeholder-shown)~label::after {
  position: absolute;
  inset: 1rem .375rem;
  z-index: -1;
  height: 1.5em;
  content: "";
  background-color: var(--card-color);
}

.floating-form-control .form-select {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}

/* form floating css end */

/* switch and checkbox css start */
.form-check {
  padding-inline-start: 25px;
}

.form-check input:disabled,
.form-check input:disabled~label {
  opacity: 0.5;
  cursor: auto;
}

.form-check .form-check-input {
  width: 1rem;
  height: 1rem;
  margin-block-start: .3em;
  margin-inline-start: -1.5rem;
  float: left;
  background-color: var(--border-color);
  border-radius: 0.25rem;
  appearance: none;
  -webkit-appearance: none;
  border: 1px solid transparent;
  cursor: pointer;
  position: relative;
}

[dir="rtl"] .form-check .form-check-input {
  float: right;
}

.form-check .form-check-input:checked {
  background-color: var(--primary);
  border-color: var(--primary);
  background-image: url('../public/images/check_solid.svg');
  background-size: 12px 12px;
  background-position: center;
  background-repeat: no-repeat;
}

.form-check .form-check-input:focus,
.form-check .form-check-input:focus-visible {
  border-color: var(--sky);
  outline: 0;
  box-shadow: 0 0 0 .25rem rgba(13, 110, 253, .25);
}

.form-check .form-check-input.check-line:checked+.form-check-label {
  text-decoration: line-through;
  color: var(--primary);
}

.form-check.form-switch {
  padding-inline-start: 40px;
}

.form-check.form-switch .form-check-input {
  width: 2rem;
  border-radius: 100rem;
  margin-block-start: .35em;
  margin-inline-start: -2.5rem;
}

.form-check.form-switch .form-check-input::after {
  position: absolute;
  content: "";
  width: 10px;
  height: 10px;
  background-color: var(--white);
  border-radius: 100rem;
  top: 50%;
  transform: translateY(-50%);
  left: 3px;
  transition: .15s ease-in-out;
}

[dir="rtl"] .form-check.form-switch .form-check-input::after {
  left: unset;
  right: 3px;
}

.form-check.form-switch .form-check-input:checked {
  background-image: none;
}

.form-check.form-switch .form-check-input:checked::after {
  left: 18px;
}

[dir="rtl"] .form-check.form-switch .form-check-input:checked::after {
  left: unset;
  right: 18px;
}

.form-check .form-check-label {
  cursor: pointer;
  font-size: 14px;
  line-height: 20px;
}

.form-check.form-switch .form-check-label {
  font-size: 16px;
  line-height: 24px;
}

/* switch and checkbox css end */

/* switch and checkbox css start */
.form-radio {
  padding-inline-start: 25px;
}

.form-radio input:disabled,
.form-radio input:disabled~label {
  opacity: 0.5;
  cursor: auto;
}

.form-radio .form-radio-input {
  width: 1rem;
  height: 1rem;
  margin-block-start: .35em;
  margin-inline-start: -1.5rem;
  float: inline-start;
  background-color: var(--border-color);
  border-radius: 100rem;
  appearance: none;
  -webkit-appearance: none;
  border: 1px solid transparent;
  cursor: pointer;
  position: relative;
}

.form-radio .form-radio-input:checked {
  background-color: var(--primary);
  border-color: var(--primary);
  background-image: url('../public/images/round_solid.svg');
  background-size: 12px 12px;
  background-position: center;
  background-repeat: no-repeat;
}

/* Radio visual tweak: use centered primary dot instead of background image */
.form-radio .form-radio-input:checked {
  background-color: var(--card-color);
  border-color: var(--primary);
  background-image: none;
}
.form-radio .form-radio-input:checked::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  width: 0.5em; /* 8px on 1rem input; scales with transform */
  height: 0.5em;
  background-color: var(--primary);
  border-radius: 9999px;
  transform: translate(-50%, -50%);
}

.form-radio .form-radio-input:focus,
.form-radio .form-radio-input:focus-visible {
  border-color: var(--sky);
  outline: 0;
  box-shadow: 0 0 0 .25rem rgba(13, 110, 253, .25);
}

.form-radio .form-radio-label {
  cursor: pointer;
  font-size: 14px;
  line-height: 20px;
}

/* switch and checkbox css end */

/* hamburger css start */
.hamburger-menu .line {
  fill: none;
  stroke: currentColor;
  stroke-width: 6;
  transition: stroke-dasharray 600ms cubic-bezier(0.4, 0, 0.2, 1),
    stroke-dashoffset 600ms cubic-bezier(0.4, 0, 0.2, 1);
}

.hamburger-menu .line1 {
  stroke-dasharray: 60 207;
  stroke-width: 6;
}

.hamburger-menu .line2 {
  stroke-dasharray: 60 60;
  stroke-width: 6;
}

.hamburger-menu .line3 {
  stroke-dasharray: 60 207;
  stroke-width: 6;
}

.hamburger-menu.opened .line1 {
  stroke-dasharray: 90 207;
  stroke-dashoffset: -134;
  stroke-width: 6;
}

.hamburger-menu.opened .line2 {
  stroke-dasharray: 1 60;
  stroke-dashoffset: -30;
  stroke-width: 6;
}

.hamburger-menu.opened .line3 {
  stroke-dasharray: 90 207;
  stroke-dashoffset: -134;
  stroke-width: 6;
}

/* hamburger css end */

/* apexchart css start */
[data-theme="dark"] body .apexcharts-tooltip,
[data-theme="dark"] body .apexcharts-tooltip .apexcharts-tooltip-title,
[data-theme="dark"] body .apexcharts-xaxistooltip,
[data-theme="dark"] body .apexcharts-yaxistooltip {
  background: var(--card-color);
  border-color: var(--border-color);
  color: var(--font-color);
}

[data-theme="dark"] body .apexcharts-text {
  fill: var(--font-color);
}

body .apexcharts-legend-text {
  color: var(--font-color-100) !important;
}

body .apexcharts-tooltip .apexcharts-tooltip-text {
  line-height: 0;
}

body .apexcharts-tooltip .apexcharts-tooltip-series-group {
  padding: 10px;
}

body .apexcharts-tooltip .apexcharts-tooltip-marker {
  width: 5px;
  height: 5px;
  margin-right: 5px;
}

body .apexcharts-legend-marker {
  height: 3px !important;
}

body .apexcharts-canvas * {
  font-family: var(--font-family) !important;
}

body .apexcharts-legend-text {
  padding-left: 0;
  margin-left: 0;
  padding-inline-start: 15px;
  margin-inline-start: -15px;
}

body .apexcharts-legend-marker {
  margin-right: 0;
  margin-inline-end: 3px;
}

/* apexchart css end */

/* full calendar css start */
.fc-theme-standard .fc-scrollgrid,
.fc-theme-standard td,
.fc-theme-standard th {
  border-color: var(--border-color);
}

/* full calendar css start */

.project-activity .design-card div::before {
  background: linear-gradient(to bottom, rgba(72, 76, 97, 0) 0, rgba(72, 76, 97, .8) 75%);
}

@media (min-width: 1200px) {
  .sidebar-image::after {
    content: "";
    position: fixed;
    left: 0;
    top: 0;
    width: 260px;
    height: 100%;
    z-index: -1;
    opacity: 0.15;
    background-image: var(--sidebar-bg-image);
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
  }

  /* mini-sidebar */
  .mini-sidebar .sidebar :is(.sidebar-dropdown, .sidebar-title span, .create-new-project, .sidebar-list .devider, .sidebar-list-button .link, .sidebar-list-link .link, .sidebar-list-button .arrow-icon, .sidebar-sublist) {
    display: none;
  }

  .mini-sidebar .sidebar {
    width: 80px;
    min-width: 80px;
    transition: all 0.3s ease-in-out;
  }

  .mini-sidebar .sidebar .sidebar-header {
    padding: 0;
    justify-content: center;
  }

  .mini-sidebar .sidebar .sidebar-title .sm-txt {
    background: var(--primary);
    color: var(--white);
    display: inline-flex !important;
    width: 40px;
    height: 40px;
    border-radius: 50px;
    justify-content: center;
    align-items: center;
  }

  .mini-sidebar .sidebar .sidebar-listitem :is(.sidebar-list-button, .sidebar-list-link) {
    justify-content: center;
    position: relative;
  }

  .mini-sidebar .sidebar .sidebar-bottom-link {
    flex-direction: column;
    margin-inline-start: 8px;
    margin-inline-end: 8px;
    gap: 8px;
    transition: all 0.3s ease-in-out;
  }

  .mini-sidebar .sidebar {
    -ms-overflow-style: none;
    scrollbar-width: none;
    border-inline-end: 11px solid var(--card-color);
  }

  .mini-sidebar .sidebar .sidebar-listitem:hover .sidebar-sublist {
    display: block !important;
    position: fixed;
    background: var(--body-color);
    inset-inline-start: 69px;
    top: 0;
    width: 100%;
    max-width: 250px;
    height: 100%;
    z-index: 3;
    padding-inline-end: 16px;
    padding-block-start: 20px;
    padding-block-end: 20px;
    border-inline-start: 11px solid var(--card-color);
    box-shadow: 8px 0 11px 0 rgba(25, 24, 24, .1);
    overflow: auto;
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .mini-sidebar .sidebar .sidebar-listitem:hover .sidebar-list-button::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 100%;
    inset-inline-start: 100%;
  }
}

@media (max-width:1023px) {
  body:is(.app-email, .app-email-detail, .app-email-compose, .app-chat, .app-social, .app-file-manager, .app-task, .app-project-list, .app-project-details) .main {
    overflow: auto;
  }
}

@media (max-width:767px) {
  .fc .fc-toolbar-title {
    font-size: 1.2em;
  }

  .fc .fc-button {
    padding: .2em .4em;
    line-height: 1;
  }
}

/* ========================================
   CHART THEME CLASSES - Reusable for ECharts
   ======================================== */

.chart-theme-light {
  --chart-bg: transparent;
  --chart-text: #374151;
  --chart-text-secondary: #6B7280;
  --chart-border: #E5E7EB;
  --chart-grid: #F3F4F6;
  --chart-tooltip-bg: #FFFFFF;
  --chart-tooltip-border: #7C3AED;
  --chart-tooltip-shadow: rgba(0, 0, 0, 0.1);
}

.chart-theme-dark {
  --chart-bg: transparent;
  --chart-text: #F3F4F6;
  --chart-text-secondary: #9CA3AF;
  --chart-border: #374151;
  --chart-grid: #4B5563;
  --chart-tooltip-bg: #1F2937;
  --chart-tooltip-border: #8B5CF6;
  --chart-tooltip-shadow: rgba(0, 0, 0, 0.3);
}

/* Auto-apply chart theme based on data-theme */
[data-theme="light"] .chart-container {
  @apply chart-theme-light;
}

[data-theme="dark"] .chart-container {
  @apply chart-theme-dark;
}

/* Make logos white in dark mode - target only logo SVGs */
[data-theme="dark"] .sidebar-header svg path,
[data-theme="dark"] .sidebar-header svg polygon,
[data-theme="dark"] .sidebar-header svg text,
[data-theme="dark"] .topbar-logo svg path,
[data-theme="dark"] .topbar-logo svg polygon,
[data-theme="dark"] .topbar-logo svg text {
  fill: white !important;
}

/* Make mini logo white in dark mode when sidebar is collapsed */
[data-theme="dark"] .mini-sidebar .sidebar-header img {
  filter: brightness(0) invert(1);
}

/* Loading animation utilities */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.6s ease-out;
}

.animation-delay-100 {
  animation-delay: 0.1s;
}

.animation-delay-200 {
  animation-delay: 0.2s;
}

.animation-delay-400 {
  animation-delay: 0.4s;
}

/* ========================================
   Auth: Subtle animated thin-line background
   Inspired by nextjs.org hero lines
   ======================================== */
.animated-grid-bg {
  --line-color: color-mix(in oklab, var(--font-color-100) 40%, transparent);
  --accent: var(--secondary);
  background:
    linear-gradient(transparent 0 0) padding-box,
    repeating-linear-gradient(
      to right,
      var(--line-color),
      var(--line-color) 1px,
      transparent 1px,
      transparent 32px
    ),
    repeating-linear-gradient(
      to bottom,
      var(--line-color),
      var(--line-color) 1px,
      transparent 1px,
      transparent 32px
    );
  mask-image: radial-gradient(1200px 600px at 50% 0, black, transparent 70%);
}

/* flowing highlight line */
.animated-grid-bg::before,
.animated-grid-bg::after {
  content: "";
  position: absolute;
  inset-inline: 0;
  height: 1px;
  background: linear-gradient(90deg, transparent, var(--accent), transparent);
  animation: slide-accent 6s linear infinite;
  opacity: .6;
}
.animated-grid-bg::after {
  top: 40%;
  animation-duration: 8s;
  opacity: .35;
}
.animated-grid-bg::before { top: 20%; }

@keyframes slide-accent {
  from { transform: translateX(-50%); }
  to { transform: translateX(50%); }
}

/* Underline accent used under the auth title */
.brand-underline {
  width: 140px;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--secondary), transparent);
}

/* ========================================
   Auth: ultra-light animated curved path lines
   ======================================== */
.fx-lines svg { display: block; }
.fx-lines path {
  stroke: color-mix(in oklab, var(--secondary) 28%, transparent);
  stroke-width: 1;
  fill: none;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: .55;
  filter: drop-shadow(0 0 6px color-mix(in oklab, var(--secondary) 30%, transparent));
}
.fx-lines path.is-dashed {
  stroke-dasharray: 4 10;
  animation: dash-move 10s linear infinite;
}
.fx-lines path.is-glow {
  stroke: color-mix(in oklab, var(--secondary) 60%, white);
  opacity: .25;
}

@keyframes dash-move {
  from { stroke-dashoffset: 0; }
  to   { stroke-dashoffset: -200; }
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* ========================================
   Chart Color Overrides - Highest Specificity
   ======================================== */
html[data-luno-theme="indigo"],
body[data-luno-theme="indigo"],
html:has(body[data-luno-theme="indigo"]) {
  --chart-color1: #b9b3a8 !important;
  --chart-color2: #4C3575 !important;
  --chart-color3: #98427e !important;
  --chart-color4: #d55a75 !important;
  --chart-color5: #fb8665 !important;
}

html[data-luno-theme="blue"],
body[data-luno-theme="blue"],
html:has(body[data-luno-theme="blue"]) {
  --chart-color1: #2794eb !important;
  --chart-color2: #6382D8 !important;
  --chart-color3: #8D61A5 !important;
  --chart-color4: #90476F !important;
  --chart-color5: #00AC9A !important;
}

html[data-luno-theme="cyan"],
body[data-luno-theme="cyan"],
html:has(body[data-luno-theme="cyan"]) {
  --chart-color1: #219F94 !important;
  --chart-color2: #655D8A !important;
  --chart-color3: #C1DEAE !important;
  --chart-color4: #FDCEB9 !important;
  --chart-color5: #D885A3 !important;
}

html[data-luno-theme="green"],
body[data-luno-theme="green"],
html:has(body[data-luno-theme="green"]) {
  --chart-color1: #79B989 !important;
  --chart-color2: #7E8954 !important;
  --chart-color3: #91A7FB !important;
  --chart-color4: #3FBCB8 !important;
  --chart-color5: #ecbc7c !important;
}

html[data-luno-theme="orange"],
body[data-luno-theme="orange"],
html:has(body[data-luno-theme="orange"]) {
  --chart-color1: #FFA600 !important;
  --chart-color2: #FF8982 !important;
  --chart-color3: #FFC0B7 !important;
  --chart-color4: #CF7F00 !important;
  --chart-color5: #00B4B7 !important;
}

html[data-luno-theme="blush"],
body[data-luno-theme="blush"],
html:has(body[data-luno-theme="blush"]) {
  --chart-color1: #dd5e89 !important;
  --chart-color2: #b45d98 !important;
  --chart-color3: #865e99 !important;
  --chart-color4: #5b5b8b !important;
  --chart-color5: #f7bb97 !important;
}

html[data-luno-theme="red"],
body[data-luno-theme="red"],
html:has(body[data-luno-theme="red"]) {
  --chart-color1: #FF7171 !important;
  --chart-color2: #FFAA71 !important;
  --chart-color3: #6E6D6D !important;
  --chart-color4: #D9C6A5 !important;
  --chart-color5: #99B898 !important;
}

html[data-luno-theme="dynamic"],
body[data-luno-theme="dynamic"],
html:has(body[data-luno-theme="dynamic"]) {
  --chart-color1: #7C3AED !important;
  --chart-color2: #DC2626 !important;
  --chart-color3: #059669 !important;
  --chart-color4: #D97706 !important;
  --chart-color5: #2563EB !important;
}

/* ========================================
   Notes Page - Markdown Styling
   ======================================== */

/* Markdown content styling for both light and dark themes */
.prose {
  color: var(--font-color);
}

.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  color: var(--font-color);
  font-weight: 600;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

.prose h1 { font-size: 1.875rem; line-height: 2.25rem; }
.prose h2 { font-size: 1.5rem; line-height: 2rem; }
.prose h3 { font-size: 1.25rem; line-height: 1.75rem; }
.prose h4 { font-size: 1.125rem; line-height: 1.75rem; }

.prose p {
  margin-top: 1em;
  margin-bottom: 1em;
  line-height: 1.625;
}

.prose a {
  color: var(--primary);
  text-decoration: underline;
}

.prose a:hover {
  color: var(--secondary);
}

.prose strong {
  font-weight: 600;
  color: var(--font-color);
}

.prose em {
  font-style: italic;
}

.prose code {
  background-color: var(--border-color);
  color: var(--font-color);
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  font-size: 0.875em;
  font-family: 'Courier New', Consolas, monospace;
}

.prose pre {
  background-color: var(--border-color);
  color: var(--font-color);
  padding: 1rem;
  border-radius: 0.5rem;
  overflow-x: auto;
  margin: 1em 0;
}

.prose pre code {
  background-color: transparent;
  padding: 0;
}

.prose blockquote {
  border-left: 4px solid var(--primary);
  padding-left: 1rem;
  margin: 1em 0;
  font-style: italic;
  color: var(--font-color-100);
}

.prose ul, .prose ol {
  margin: 1em 0;
  padding-left: 1.5rem;
}

.prose li {
  margin: 0.25em 0;
}

.prose table {
  width: 100%;
  border-collapse: collapse;
  margin: 1em 0;
}

.prose th, .prose td {
  border: 1px solid var(--border-color);
  padding: 0.5rem;
  text-align: left;
}

.prose th {
  background-color: var(--border-color);
  font-weight: 600;
}

.prose hr {
  border: none;
  border-top: 1px solid var(--border-color);
  margin: 2em 0;
}

/* Dark theme specific adjustments */
[data-theme="dark"] .prose {
  color: var(--font-color);
}

[data-theme="dark"] .prose code {
  background-color: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .prose pre {
  background-color: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .prose th {
  background-color: rgba(255, 255, 255, 0.1);
}

/* Highlight.js theme adjustments for dark mode */
[data-theme="dark"] .hljs {
  background: rgba(255, 255, 255, 0.05) !important;
  color: var(--font-color) !important;
}

/* Line clamp utility for note previews */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* CSS Custom Properties for UI Components */
:root {
  --card-color: var(--white);
  --border-color: var(--grey);
  --font-color: var(--primary);
  --font-color-100: var(--grey);
  --font-color-200: #EEEEEE;
}

[data-theme="light"] {
  --card-color: var(--white);
  --border-color: #e7e7e7;
  --font-color: #363535;
  --font-color-100: #9399a1;
  --font-color-200: #EEEEEE;
}

[data-theme="dark"] {
  --card-color: #24282e;
  --border-color: #4c4c4c;
  --font-color: #E0E0E0;
  --font-color-100: #9399a1;
  --font-color-200: #424242;
}

/* Markdown styles */
.prose {
  max-width: none;
  color: var(--font-color);
}

.prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
  color: var(--font-color);
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}

.prose h1 { font-size: 2em; font-weight: 700; }
.prose h2 { font-size: 1.5em; font-weight: 600; }
.prose h3 { font-size: 1.25em; font-weight: 600; }
.prose h4 { font-size: 1.125em; font-weight: 600; }

.prose p {
  margin-bottom: 1em;
  line-height: 1.6;
}

.prose strong {
  font-weight: 600;
  color: var(--font-color);
}

.prose em {
  font-style: italic;
}

.prose code {
  background-color: var(--card-color);
  padding: 0.125rem 0.25rem;
  border-radius: 0.25rem;
  font-size: 0.875em;
  border: 1px solid var(--border-color);
}

.prose pre {
  background-color: var(--card-color);
  padding: 1rem;
  border-radius: 0.5rem;
  overflow-x: auto;
  border: 1px solid var(--border-color);
}

.prose pre code {
  background: none;
  padding: 0;
  border: none;
}

.prose ul, .prose ol {
  margin-bottom: 1em;
  padding-left: 1.5em;
}

.prose li {
  margin-bottom: 0.25em;
}

.prose blockquote {
  border-left: 4px solid var(--primary);
  padding-left: 1rem;
  margin: 1em 0;
  font-style: italic;
  color: var(--font-color-100);
}

.prose a {
  color: var(--primary);
  text-decoration: underline;
}

.prose a:hover {
  text-decoration: none;
}

.prose table {
  width: 100%;
  border-collapse: collapse;
  margin: 1em 0;
}

.prose th, .prose td {
  border: 1px solid var(--border-color);
  padding: 0.5rem;
  text-align: left;
}

.prose th {
  background-color: var(--card-color);
  font-weight: 600;
}

.prose hr {
  border: none;
  border-top: 1px solid var(--border-color);
  margin: 2em 0;
}

/* Syntax highlighting for code blocks */
.prose .hljs {
  background: var(--card-color) !important;
  color: var(--font-color) !important;
}

.prose .hljs-comment,
.prose .hljs-quote {
  color: var(--font-color-100);
  font-style: italic;
}

.prose .hljs-keyword,
.prose .hljs-selector-tag,
.prose .hljs-type {
  color: #c678dd;
}

.prose .hljs-string,
.prose .hljs-attr {
  color: #98c379;
}

.prose .hljs-number,
.prose .hljs-literal {
  color: #d19a66;
}

.prose .hljs-function,
.prose .hljs-title {
  color: #61afef;
}

.prose .hljs-variable,
.prose .hljs-name {
  color: #e06c75;
}

/* Dark theme adjustments */
[data-theme="dark"] .prose {
  color: var(--font-color);
}

[data-theme="dark"] .prose code {
  background-color: rgba(255, 255, 255, 0.1);
}

[data-theme="dark"] .prose pre {
  background-color: rgba(255, 255, 255, 0.05);
}

[data-theme="dark"] .prose .hljs {
  background: rgba(255, 255, 255, 0.05) !important;
}

/* Custom scroll area */
.scroll-area {
  overflow: auto;
  scrollbar-width: thin;
  scrollbar-color: var(--border-color) transparent;
}

.scroll-area::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.scroll-area::-webkit-scrollbar-track {
  background: transparent;
}

.scroll-area::-webkit-scrollbar-thumb {
  background-color: var(--border-color);
  border-radius: 4px;
}

.scroll-area::-webkit-scrollbar-thumb:hover {
  background-color: var(--font-color-100);
}

/* Line numbers - no animations for instant sync */
.line-numbers {
  /* No transitions - instant updates */
  scroll-behavior: auto !important;
}

.line-numbers > div {
  /* No transitions - instant updates */
}

/* Notes page - ensure content area has proper min-height - SCOPED TO NOTES PAGE ONLY */
.notes-page-specific.notes-container .notes-content-area {
  min-height: 400px;
}

/* Mobile-responsive Notes layout - SCOPED TO NOTES PAGE ONLY */
@media (max-width: 768px) {
  .notes-page-specific.notes-container {
    flex-direction: column !important;
    height: auto !important;
    min-height: calc(100vh - 120px) !important;
    overflow: visible !important;
  }
  
  .notes-page-specific .notes-sidebar {
    width: 100% !important;
    border-right: none !important;
    border-bottom: 1px solid var(--border-color) !important;
    max-height: 40vh !important;
  }
  
  .notes-page-specific .notes-main-content {
    flex: 1 !important;
    min-height: 60vh !important;
  }
  
  /* Mobile: Remove fixed heights and use natural scrolling */
  .notes-page-specific .notes-sidebar .scroll-area {
    max-height: 30vh !important;
  }
  
  /* Mobile: Adjust editor layout */
  .notes-page-specific .notes-content-area {
    min-height: 400px !important;
    max-height: none !important;
    overflow: visible !important;
  }
  
  /* Mobile: Allow natural scrolling for editor */
  .notes-page-specific .notes-content-area > div {
    max-height: none !important;
    overflow: visible !important;
  }
}

@media (max-width: 480px) {
  .notes-page-specific.notes-container {
    padding: 0 !important;
  }
  
  .notes-page-specific .notes-sidebar {
    max-height: 35vh !important;
  }
  
  .notes-page-specific .notes-sidebar .scroll-area {
    max-height: 25vh !important;
  }
  
  /* Mobile: Stack edit/preview buttons vertically on very small screens */
  .notes-page-specific .notes-main-content .edit-preview-toggle {
    flex-direction: column !important;
    gap: 4px !important;
  }
  
  .notes-page-specific .notes-main-content .edit-preview-toggle > div {
    width: 100% !important;
  }
  
  .notes-page-specific .notes-main-content .edit-preview-toggle button {
    width: 100% !important;
    justify-content: center !important;
  }
  
  /* Mobile: Touch-friendly button sizes */
  .notes-page-specific .notes-sidebar button,
  .notes-page-specific .notes-main-content button {
    min-height: 44px !important;
    min-width: 44px !important;
  }
  
  /* Mobile: Larger touch targets for note items */
  .notes-page-specific .notes-sidebar .scroll-area > div > div {
    padding: 16px 12px !important;
    margin-bottom: 12px !important;
  }
}

/* Mobile: Disable line numbers on very small screens */
@media (max-width: 480px) {
  .notes-page-specific .line-numbers {
    display: none !important;
  }
  
  .notes-page-specific .notes-content-area textarea {
    padding-left: 12px !important;
  }
}

/* Override scroll-area when using full height - NUCLEAR OPTION */
.notes-page-specific.notes-container.force-no-scrollbars .scroll-area {
  overflow: visible !important;
  max-height: none !important;
  height: auto !important;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

.notes-page-specific.notes-container.force-no-scrollbars .scroll-area::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

/* NUCLEAR: Force textarea to never have scrollbars when in full height mode */
.notes-page-specific.notes-container.force-no-scrollbars textarea {
  overflow: visible !important;
  max-height: none !important;
  height: auto !important;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
  flex: none !important;
  flex-grow: 1 !important;
  flex-shrink: 0 !important;
  flex-basis: auto !important;
  /* Prevent any scrolling behavior */
  scroll-behavior: auto !important;
  overscroll-behavior: none !important;
}

.notes-page-specific.notes-container.force-no-scrollbars textarea::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

/* NUCLEAR: Force line numbers to extend fully when in full height mode */
.notes-page-specific.notes-container.force-no-scrollbars .line-numbers {
  height: auto !important;
  max-height: none !important;
  min-height: auto !important;
  overflow: visible !important;
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

.notes-page-specific.notes-container.force-no-scrollbars .line-numbers::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}